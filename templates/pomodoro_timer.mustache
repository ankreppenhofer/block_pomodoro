{{!
  @template block_pomodoro/pomodoro_timer
}}

<div class="pomodoro-container">
    <div class="timer">
        <div class="pomodoro-grid">

            <div class="graphic-panel">

            </div>

            <div class="right-panel">
                <div class="timepanel">
                    <div id="pomodoro-timer-display"
                         class="timer-display"
                         data-focus-sec="30" data-shortbreak-sec="10"
                         data-longbreak-sec="15" data-wellness-sec="3"
                         data-longbreak-interval="3" data-courseid="{{courseid}}">
                        00:30
                    </div>
                </div>

                <div class="buttons">
                    <button id="start" type="button" class="start-button">
                        <svg width="50px" height="50px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M15 12.3301L9 16.6603L9 8L15 12.3301Z" fill="#ffffff"></path> </g></svg>
                    </button>
                    <button id="pause" type="button" class="pause-button hidden">
                        <svg width="22px" height="22px" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" fill="#000000">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"/>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
                            <g id="SVGRepo_iconCarrier">
                                <path fill="#ffffff" d="M120.16 45A20.162 20.162 0 0 0 100 65.16v381.68A20.162 20.162 0 0 0 120.16 467h65.68A20.162 20.162 0 0 0 206 446.84V65.16A20.162 20.162 0 0 0 185.84 45h-65.68zm206 0A20.162 20.162 0 0 0 306 65.16v381.68A20.162 20.162 0 0 0 326.16 467h65.68A20.162 20.162 0 0 0 412 446.84V65.16A20.162 20.162 0 0 0 391.84 45h-65.68z"/>
                            </g>
                        </svg>
                    </button>
                    <button id="reset" type="button" class="reset-button">â†»</button>
                </div>


            </div>

        </div>

        <div class="tomato-row">
            <div class="dots flex align-items-center" id="pomodoro-tomatoes" aria-label="Pomodoros in this cycle" ></div>
            <div class="legend">Long break after <span id="pomodoro-interval">3</span>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="15" height="15"
                     style=" margin-right:6px;">
                    <polygon style="fill:#AB2300;" points="512,155.826 478.609,155.826 ..."/>
                    <polygon style="fill:#AB2300;" points="512,155.826 478.609,155.826 478.609,100.174 445.217,100.174 445.217,66.783
                    411.826,66.783 411.826,33.391 300.522,33.391 300.522,66.783 267.13,66.783 267.13,0 233.739,0 233.739,66.783 211.478,66.783
                    211.478,33.391 100.174,33.391 100.174,66.783 66.783,66.783 66.783,100.174 33.391,100.174 33.391,155.826 0,155.826 0,345.043
                    33.391,345.043 33.391,411.826 66.783,411.826 66.783,445.217 100.174,445.217 100.174,478.609 166.957,478.609 166.957,512
                    345.043,512 345.043,478.609 411.826,478.609 411.826,445.217 445.217,445.217 445.217,411.826 478.609,411.826 478.609,345.043
                    512,345.043 "/>
                    <polygon style="fill:#4E901E;" points="445.217,100.174 445.217,66.783 411.826,66.783 411.826,33.391 300.522,33.391
                    300.522,66.783 289.391,66.783 267.13,66.783 267.13,0 233.739,0 233.739,66.783 222.609,66.783 211.478,66.783 211.478,33.391
                    100.174,33.391 100.174,66.783 66.783,66.783 66.783,100.174 33.391,100.174 33.391,155.826 66.783,155.826 133.565,155.826
                    133.565,222.609 222.609,222.609 222.609,189.217 289.391,189.217 289.391,222.609 378.435,222.609 378.435,155.826
                    445.217,155.826 478.609,155.826 478.609,100.174 "/>
                    <polygon points="233.739,100.174 233.739,122.435 267.13,122.435 267.13,100.174 300.522,100.174 300.522,66.783 267.13,66.783
                    267.13,0 233.739,0 233.739,66.783 211.478,66.783 211.478,100.174 "/>
                    <rect x="222.609" y="155.826" width="66.783" height="33.391"/>
                    <polygon points="378.435,122.435 345.043,122.435 345.043,155.826 345.043,189.217 289.391,189.217 289.391,222.609
                    345.043,222.609 378.435,222.609 378.435,189.217 378.435,155.826 445.217,155.826 478.609,155.826 478.609,122.435
                    478.609,100.174 445.217,100.174 445.217,122.435 "/>
                    <rect x="411.826" y="66.783" width="33.391" height="33.391"/>
                    <rect x="300.522" y="33.391" width="111.304" height="33.391"/>
                    <rect x="100.174" y="33.391" width="111.304" height="33.391"/>
                    <rect x="66.783" y="66.783" width="33.391" height="33.391"/>
                    <polygon points="133.565,155.826 133.565,189.217 133.565,222.609 166.957,222.609 222.609,222.609 222.609,189.217
                    166.957,189.217 166.957,155.826 166.957,122.435 133.565,122.435 66.783,122.435 66.783,100.174 33.391,100.174 33.391,122.435
                    33.391,155.826 66.783,155.826 "/>
                    <rect x="33.391" y="345.043" width="33.391" height="66.783"/>
                    <rect x="66.783" y="411.826" width="33.391" height="33.391"/>
                    <rect x="100.174" y="445.217" width="66.783" height="33.391"/>
                    <rect x="166.957" y="478.609" width="178.087" height="33.391"/>
                    <rect x="345.043" y="445.217" width="66.783" height="33.391"/>
                    <rect x="411.826" y="411.826" width="33.391" height="33.391"/>
                    <rect x="445.217" y="345.043" width="33.391" height="66.783"/>
                    <rect x="478.609" y="155.826" width="33.391" height="189.217"/>
                    <rect y="155.826" width="33.391" height="189.217"/>
                    <g>
                        <rect x="66.783" y="189.217" style="fill:#FFFFFF;" width="33.391" height="55.652"/>
                        <rect x="66.783" y="278.261" style="fill:#FFFFFF;" width="33.391" height="33.391"/>
                    </g>
                </svg>
            </div>
        </div>
    </div>

    <!-- Wellness modal -->
    <dialog id="wellness-modal" class="pomodoro-modal" aria-labelledby="wellness-title">
        <form method="dialog">
            <div class="d-flex flex-column align-items-center">
                <h4 id="wellness-title">Take a breath</h4>
                <div id="wellness-countdown" class="modal-countdown">00:03</div>
                <button id="skip-wellness" class="btn btn-primary align-self-center" type="button">Skip</button>
            </div>
        </form>
    </dialog>

    <!-- Break modal -->
    <dialog id="break-modal" class="pomodoro-modal" aria-labelledby="break-title">
        <form method="dialog">
            <div class="d-flex flex-column align-items-center">
                <h4 id="break-title">Break time</h4>
                <ul class="ideas">
                    <li>Stand and stretch</li>
                    <li>Drink water</li>
                    <li>Rest your eyes</li>
                </ul>
                <div id="break-countdown" class="modal-countdown">00:10</div>
                <button id="dismiss-break" type="button" class="btn btn-primary align-self-center">OK</button>
            </div>
        </form>
    </dialog>
</div>

{{#js}}
    require(['block_pomodoro/pomodoro_timer'], function (timer) {
    timer.init();
    });
{{/js}}
